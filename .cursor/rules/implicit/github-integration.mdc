---
description: GitHub Issues and Projects sync rules for TASKLIST.md
alwaysApply: true
---

# GitHub Integration for TypeScript Projects

## Core Sync Rules

### TASKLIST.md Format:
Every task MUST include issue number (added at phase start):
```markdown
- [ ] Create Button component (Issue #42)
- [ ] Set up Three.js scene (Issue #13) üîÑ
- [x] Add lighting config (Issue #14) ‚úÖ
```

### Issue Creation Timing:
‚ùå **WRONG**: Create issues as you work (reactive)
‚úÖ **CORRECT**: Create ALL phase issues BEFORE starting work (proactive)

### Status Mapping:
| TASKLIST | GitHub Issue | Project Board |
|----------|--------------|---------------|
| `- [ ]` (undefined) | Open | Backlog |
| `- [ ]` (current phase) | Open | Ready |
| `- [ ] üîÑ` | Open + label:`in-progress` | In Progress |
| `- [ ] ‚ö†Ô∏è` | Open (PR open) | In Review |
| `- [x] ‚úÖ` | Closed | Done |
| `- [ ] ‚ùå` | Open + label:`blocked` | Blocked (stays in current column) |

### Labels Required:
- Phase: `phase-1`, `phase-2`, `phase-3`, etc.
- Type: `feature`, `bug`, `component`, `api`, `ui`
- Status: `in-progress`, `blocked`, `needs-review`

## Commands

### Batch Create Issues (Phase Start):
```bash
for task in "Create Button" "Add Card" "Setup Form"; do
    gh issue create --title "$task" --label "phase-2,component"
done
```

### Work on Single Issue (REQUIRED):
```bash
# Create branch with issue number
git checkout -b feature/42-create-button-component

# Commit with issue reference
git commit -m "feat: create Button component (#42)"

# Create PR that links to issue
gh pr create --title "Create Button component" --body "Closes #42"

# After merge, issue auto-closes
```

### Branch Naming with Issue (REQUIRED):
```
feature/{issue-num}-{short-description}
bugfix/{issue-num}-{short-description}

Examples:
feature/42-create-button-component
feature/43-add-3d-scene
bugfix/44-fix-mobile-layout
```

### ONE Issue = ONE Branch = ONE PR

**Never work on multiple issues in same branch**

## Workflow: Issues Per Phase (PROVENANCE CRITICAL)

### Phase Start (REQUIRED):
1. **Define CURRENT phase tasks only** in TASKLIST.md
2. **Create ALL issues for THIS phase** at once:
   ```bash
   # Only create Phase 2 issues when starting Phase 2
   for task in "Create Button" "Add Card" "Setup Form"; do
       gh issue create --title "$task" --label "phase-2,component"
   done
   ```
3. **Update TASKLIST.md** with phase issue numbers
4. **Commit** TASKLIST.md to master
5. **Work through phase** (one issue = one branch)
6. **When phase complete**, define next phase tasks and repeat

‚ùå **WRONG**: Define all phases upfront and create 100+ issues
‚úÖ **CORRECT**: Define and create issues for current phase only

### Per-Issue Work (REQUIRED FOR PROVENANCE):
```bash
# 1. Get issue number from TASKLIST.md
ISSUE_NUM=42

# 2. Create branch linked to issue (REQUIRED)
git checkout master
git pull
git checkout -b feature/42-create-button-component

# 3. Work on task in THIS branch ONLY
# ... make changes ...

# 4. Commit with issue reference
git commit -m "feat: create Button component (#42)"

# 5. Push branch
git push -u origin feature/42-create-button-component

# 6. Create PR that closes issue
gh pr create --title "Create Button component" --body "Closes #42"

# 7. After PR merge ‚Üí Issue auto-closes
# 8. Update TASKLIST.md: mark [x] (Issue #42) ‚úÖ
# 9. Delete branch
```

### Provenance Chain (CRITICAL):
```
Issue #42 ‚Üí Branch feature/42-* ‚Üí Commits ‚Üí PR #X ‚Üí Merge to master
```

**Every change is traceable through the supply chain**
*Attestation handled automatically by GitHub Actions*

## Project Board Rules

- Create Kanban project with: Todo, In Progress, In Review, Done
- Auto-add issues to project
- Move based on labels: `in-progress` ‚Üí In Progress column